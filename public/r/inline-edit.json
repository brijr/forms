{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "inline-edit",
  "type": "registry:component",
  "title": "Inline Edit",
  "description": "A click-to-edit component for inline text editing with support for single-line and multiline inputs.",
  "dependencies": [
    "clsx",
    "tailwind-merge"
  ],
  "registryDependencies": [
    "input",
    "textarea"
  ],
  "files": [
    {
      "path": "registry/inline-edit/inline-edit.tsx",
      "content": "\"use client\";\n\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Input } from \"@/components/ui/input\";\n\nimport { useState, useEffect, useRef, useCallback } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\ninterface InlineEditProps {\n  value: string;\n  onSave: (value: string) => void;\n  placeholder?: string;\n  className?: string;\n  multiline?: boolean;\n}\n\nconst INPUT_BASE_CLASSES =\n  \"border-none shadow-none px-1 -mx-1 focus-visible:ring-0 bg-transparent py-0 min-h-[1.5em] w-full leading-[inherit] text-base md:text-base\";\n\nconst DISPLAY_BASE_CLASSES =\n  \"cursor-text hover:bg-muted/50 rounded px-1 -mx-1 transition-colors min-h-[1.5em] leading-[inherit] text-base\";\n\nexport function InlineEdit({\n  value,\n  onSave,\n  placeholder = \"Click to edit\",\n  className,\n  multiline = false,\n}: InlineEditProps) {\n  const [isEditing, setIsEditing] = useState(false);\n  const [tempValue, setTempValue] = useState(value);\n  const inputRef = useRef<HTMLInputElement>(null);\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n\n  useEffect(() => {\n    setTempValue(value);\n  }, [value]);\n\n  useEffect(() => {\n    const element = multiline ? textareaRef.current : inputRef.current;\n    if (isEditing && element) {\n      element.focus();\n      element.select();\n    }\n  }, [isEditing, multiline]);\n\n  const handleSave = useCallback(() => {\n    onSave(tempValue);\n    setIsEditing(false);\n  }, [tempValue, onSave]);\n\n  const handleCancel = useCallback(() => {\n    setTempValue(value);\n    setIsEditing(false);\n  }, [value]);\n\n  const handleKeyDown = useCallback(\n    (e: React.KeyboardEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n      if (e.key === \"Enter\" && !e.shiftKey && !multiline) {\n        e.preventDefault();\n        handleSave();\n      }\n      if (e.key === \"Escape\") {\n        e.preventDefault();\n        handleCancel();\n      }\n    },\n    [multiline, handleSave, handleCancel]\n  );\n\n  const handleStartEdit = useCallback((e: React.MouseEvent) => {\n    e.stopPropagation();\n    setIsEditing(true);\n  }, []);\n\n  const handleChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n      setTempValue(e.target.value);\n    },\n    []\n  );\n\n  if (isEditing) {\n    const commonProps = {\n      value: tempValue,\n      onChange: handleChange,\n      onBlur: handleSave,\n      onKeyDown: handleKeyDown,\n      placeholder,\n      className: cn(INPUT_BASE_CLASSES, multiline && \"resize-none\", className),\n    };\n\n    return multiline ? (\n      <Textarea ref={textareaRef} {...commonProps} rows={2} />\n    ) : (\n      <Input\n        ref={inputRef}\n        {...commonProps}\n        className={cn(commonProps.className, \"h-auto\")}\n      />\n    );\n  }\n\n  return (\n    <div\n      onClick={handleStartEdit}\n      className={cn(\n        DISPLAY_BASE_CLASSES,\n        !value && \"text-muted-foreground\",\n        className\n      )}\n    >\n      {value || placeholder}\n    </div>\n  );\n}\n",
      "type": "registry:component"
    }
  ]
}